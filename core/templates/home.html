{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Dashboard - SaaS Platform</title>
    <link rel="stylesheet" href="{% static 'core/css/main.css' %}">
    <link rel="shortcut icon" href="{% static 'core/img/logo.png' %}" type="image/x-icon">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-microchip"></i>
                <span class="logo-text">IoT Platform</span>
            </div>
            <button class="toggle-btn" id="toggleBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li class="nav-item active">
                    <a href="#dashboard">
                        <i class="fas fa-th-large"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#projects">
                        <i class="fas fa-folder-open"></i>
                        <span class="nav-text">Projects</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#devices">
                        <i class="fas fa-server"></i>
                        <span class="nav-text">Devices</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#analytics">
                        <i class="fas fa-chart-line"></i>
                        <span class="nav-text">Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#api-keys">
                        <i class="fas fa-key"></i>
                        <span class="nav-text">API Keys</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#settings">
                        <i class="fas fa-cog"></i>
                        <span class="nav-text">Settings</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#profile">
                        <i class="fas fa-user-circle"></i>
                        <span class="nav-text">Profile</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#notifications">
                        <i class="fas fa-bell"></i>
                        <span class="nav-text">Notifications</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#documentation">
                        <i class="fas fa-book"></i>
                        <span class="nav-text">Documentation</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <i class="fas fa-user-circle user-avatar"></i>
                <div class="user-details">
                    <span class="user-name">John Doe</span>
                    <span class="user-role">Administrator</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search devices, projects...">
            </div>
            <div class="top-bar-actions">
                <button class="icon-btn">
                    <i class="fas fa-bell"></i>
                    <span class="badge">5</span>
                </button>
                <button class="icon-btn">
                    <i class="fas fa-envelope"></i>
                    <span class="badge">3</span>
                </button>
                <div class="user-menu">
                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=667eea&color=fff" alt="User" class="user-avatar-img">
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1>Dashboard Overview</h1>
                <p class="subtitle">Real-time monitoring of your IoT infrastructure</p>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon projects-icon">
                        <i class="fas fa-folder-open"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Active Projects</h3>
                        <p class="stat-value">24</p>
                        <span class="stat-change positive">
                            <i class="fas fa-arrow-up"></i> 12% from last month
                        </span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon devices-icon">
                        <i class="fas fa-microchip"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Connected Devices</h3>
                        <p class="stat-value">156</p>
                        <span class="stat-change positive">
                            <i class="fas fa-arrow-up"></i> 8% from last month
                        </span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon data-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="stat-info">
                        <h3>Data Points Today</h3>
                        <p class="stat-value">1.2M</p>
                        <span class="stat-change negative">
                            <i class="fas fa-arrow-down"></i> 3% from yesterday
                        </span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon api-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="stat-info">
                        <h3>API Requests</h3>
                        <p class="stat-value">48.5K</p>
                        <span class="stat-change positive">
                            <i class="fas fa-arrow-up"></i> 15% from yesterday
                        </span>
                    </div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="main-grid">
                <!-- Projects Section -->
                <div class="grid-card projects-card">
                    <div class="card-header">
                        <h2><i class="fas fa-folder-open"></i> Projects</h2>
                        <button class="btn-primary btn-sm">
                            <i class="fas fa-plus"></i> New Project
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="project-item">
                            <div class="project-info">
                                <h4>Smart Home System</h4>
                                <p>32 devices • Last updated 2 mins ago</p>
                            </div>
                            <span class="status-badge active">Active</span>
                        </div>
                        <div class="project-item">
                            <div class="project-info">
                                <h4>Industrial Monitoring</h4>
                                <p>48 devices • Last updated 5 mins ago</p>
                            </div>
                            <span class="status-badge active">Active</span>
                        </div>
                        <div class="project-item">
                            <div class="project-info">
                                <h4>Environmental Sensors</h4>
                                <p>24 devices • Last updated 1 hour ago</p>
                            </div>
                            <span class="status-badge warning">Idle</span>
                        </div>
                        <div class="project-item">
                            <div class="project-info">
                                <h4>Agriculture IoT</h4>
                                <p>52 devices • Last updated 10 mins ago</p>
                            </div>
                            <span class="status-badge active">Active</span>
                        </div>
                    </div>
                </div>

                <!-- Devices Section -->
                <div class="grid-card devices-card">
                    <div class="card-header">
                        <h2><i class="fas fa-server"></i> Devices</h2>
                        <button class="btn-secondary btn-sm">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="device-grid">
                            <div class="device-tile">
                                <i class="fas fa-thermometer-half device-icon temp"></i>
                                <h4>Temperature Sensor</h4>
                                <p class="device-value">23.5°C</p>
                                <span class="device-status online">Online</span>
                            </div>
                            <div class="device-tile">
                                <i class="fas fa-tint device-icon humidity"></i>
                                <h4>Humidity Sensor</h4>
                                <p class="device-value">65%</p>
                                <span class="device-status online">Online</span>
                            </div>
                            <div class="device-tile">
                                <i class="fas fa-lightbulb device-icon light"></i>
                                <h4>Light Sensor</h4>
                                <p class="device-value">850 lux</p>
                                <span class="device-status online">Online</span>
                            </div>
                            <div class="device-tile">
                                <i class="fas fa-video device-icon video"></i>
                                <h4>Camera Module</h4>
                                <p class="device-value">1080p</p>
                                <span class="device-status offline">Offline</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Latest Data Stream -->
                <div class="grid-card stream-card">
                    <div class="card-header">
                        <h2><i class="fas fa-stream"></i> Latest Data Stream</h2>
                        <span class="live-indicator">
                            <span class="pulse"></span> Live
                        </span>
                    </div>
                    <div class="card-content">
                        <div class="stream-container" id="dataStream">
                            <div class="stream-item">
                                <span class="stream-time">14:32:15</span>
                                <span class="stream-device">Temp-Sensor-01</span>
                                <span class="stream-value">Temperature: 23.8°C</span>
                            </div>
                            <div class="stream-item">
                                <span class="stream-time">14:32:14</span>
                                <span class="stream-device">Humidity-02</span>
                                <span class="stream-value">Humidity: 64.2%</span>
                            </div>
                            <div class="stream-item">
                                <span class="stream-time">14:32:13</span>
                                <span class="stream-device">Light-Sensor-03</span>
                                <span class="stream-value">Light: 842 lux</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Key Management -->
                <div class="grid-card api-card">
                    <div class="card-header">
                        <h2><i class="fas fa-key"></i> API Key Management</h2>
                        <button class="btn-primary btn-sm">
                            <i class="fas fa-plus"></i> Generate Key
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="api-key-item">
                            <div class="api-key-info">
                                <h4>Production API Key</h4>
                                <code class="api-key-value">sk_prod_a8f7d9e2b4c1...</code>
                                <p class="api-key-meta">Created: Jan 15, 2026 • Last used: 2 mins ago</p>
                            </div>
                            <div class="api-key-actions">
                                <button class="icon-btn-sm"><i class="fas fa-copy"></i></button>
                                <button class="icon-btn-sm"><i class="fas fa-eye"></i></button>
                                <button class="icon-btn-sm danger"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                        <div class="api-key-item">
                            <div class="api-key-info">
                                <h4>Development API Key</h4>
                                <code class="api-key-value">sk_dev_3c5e7f9a1b6d...</code>
                                <p class="api-key-meta">Created: Jan 10, 2026 • Last used: 1 hour ago</p>
                            </div>
                            <div class="api-key-actions">
                                <button class="icon-btn-sm"><i class="fas fa-copy"></i></button>
                                <button class="icon-btn-sm"><i class="fas fa-eye"></i></button>
                                <button class="icon-btn-sm danger"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Temperature Chart -->
                <div class="grid-card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-thermometer-half"></i> Temperature Trends</h2>
                        <select class="time-selector">
                            <option>Last 24 Hours</option>
                            <option>Last 7 Days</option>
                            <option>Last 30 Days</option>
                        </select>
                    </div>
                    <div class="card-content">
                        <canvas id="temperatureChart"></canvas>
                    </div>
                </div>

                <!-- Humidity Chart -->
                <div class="grid-card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-tint"></i> Humidity Levels</h2>
                        <select class="time-selector">
                            <option>Last 24 Hours</option>
                            <option>Last 7 Days</option>
                            <option>Last 30 Days</option>
                        </select>
                    </div>
                    <div class="card-content">
                        <canvas id="humidityChart"></canvas>
                    </div>
                </div>

                <!-- Light Intensity Chart -->
                <div class="grid-card chart-card">
                    <div class="card-header">
                        <h2><i class="fas fa-lightbulb"></i> Light Intensity</h2>
                        <select class="time-selector">
                            <option>Last 24 Hours</option>
                            <option>Last 7 Days</option>
                            <option>Last 30 Days</option>
                        </select>
                    </div>
                    <div class="card-content">
                        <canvas id="lightChart"></canvas>
                    </div>
                </div>

                <!-- AI Analysis -->
                <div class="grid-card ai-card">
                    <div class="card-header">
                        <h2><i class="fas fa-brain"></i> AI Analysis</h2>
                        <span class="ai-badge">Powered by AI</span>
                    </div>
                    <div class="card-content">
                        <div class="ai-analysis-item">
                            <div class="ai-icon video-ai">
                                <i class="fas fa-video"></i>
                            </div>
                            <div class="ai-content">
                                <h4>Video Analysis</h4>
                                <p>Detected 3 people in zone A at 14:25. Motion patterns: normal activity.</p>
                                <span class="ai-timestamp">Analyzed 7 minutes ago</span>
                            </div>
                        </div>
                        <div class="ai-analysis-item">
                            <div class="ai-icon image-ai">
                                <i class="fas fa-image"></i>
                            </div>
                            <div class="ai-content">
                                <h4>Image Recognition</h4>
                                <p>Product quality check: 98.5% pass rate. 2 items flagged for review.</p>
                                <span class="ai-timestamp">Analyzed 15 minutes ago</span>
                            </div>
                        </div>
                        <div class="ai-analysis-item">
                            <div class="ai-icon anomaly-ai">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="ai-content">
                                <h4>Anomaly Detection</h4>
                                <p>Temperature spike detected in Sector 3. Recommending maintenance check.</p>
                                <span class="ai-timestamp">Analyzed 30 minutes ago</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Device Distribution -->
                <div class="grid-card chart-card-sm">
                    <div class="card-header">
                        <h2><i class="fas fa-chart-pie"></i> Device Distribution</h2>
                    </div>
                    <div class="card-content">
                        <canvas id="deviceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="{% static 'core/js/home.js' %}"></script>
</body>
</html>